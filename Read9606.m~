clear

s = load('../TC-96-06/CTD/s172_96.dat');
t = load('../TC-96-06/CTD/t172_96.dat');
c = load('../TC-96-06/CTD/CHL96.DAT');
cnew = load('../TC-96-06/CTD/CHL96NEW.DAT');
chl = load('../TC-96-06/CTD/chl172z96.dat');

a = ones(len,3);
for i = 1:len
    ptemp = presstemp(find(t==sta(i)));
    a(i,:) = [sta(i) min(ptemp) max(ptemp)];
end
llim=max(a(:,2));
ulim=min(a(:,3));
rsize = (ulim-llim)/2+1;
csize = len;

ind = find(presstemp>=llim&presstemp<=ulim);
p1 = presstemp(ind);
press = reshape(p1,rsize,csize);

TC9606 = ([]);
TC9606.cruise = '96-06';
TC9606.stations = 1:24;;
TC9606.longitude = repmat(188,1,24);
TC9606.latitude = 26:0.25:31.75;
TC9606.times = repmat(NaN,1,24);

TC9606.pressure = 6:1:500;
TC9606.temperature = reshape(C{9}(ind),rsize,csize);
TC9606.salinity = reshape(C{10}(ind),rsize,csize);
TC9606.density = reshape(C{11}(ind),rsize,csize);
TC9606.oxygen = reshape(C{12}(ind),rsize,csize);
TC9606.fluorescence = reshape(C{13}(ind),rsize,csize);

save('TC9606Data.mat','TC9606');

plot(TC9606.temperature(:,1),TC9606.pressure(:,1)) %plot first station
set(gca,'ydir','reverse') %flip Y axis
hold on % add more to current plot
plot(TC9606.temperature(:,2),TC9606.pressure(:,2),'r-') %overplot 2nd sta in red